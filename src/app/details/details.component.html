<!-- <meta name="viewport" content="width=device-width, initial-scale=1.0"> -->
<div class="col-md-12 back-history">
    <a routerLink="/scheme-cal"><i class="bi bi-chevron-left arrow-red"></i> Back to Search</a>
</div>
<!-- First -->
<div class="container">
    <div class="box col col-sm mx-auto" *ngFor="let mydata of data">
        <div class=" ms-3">
            <label for="" class="label1 mt-3"> {{mydata.oem}}</label>
            <button class="lable2 float-end mt-3 me-4 id">ID: {{mydata.scheme_id}}</button>
        </div>
        <div class="mt-6">
            <div _ngcontent-bnb-c104="" style="width:65%; display: -webkit-box;" class="form-group floating-label"><input _ngcontent-bnb-c104=""
                [(ngModel)]="firstName" id="amtamount"  type="number" formcontrolname="sapId" placeholder="₹"
                    class="form-control ng-pristine ng-invalid ng-touched" ng-reflect-name="sapId" #amtamount><label
                    _ngcontent-bnb-c104="" for="sapId">Transaction Ammount</label><small _ngcontent-bnb-c104=""
                    class="invalid-feedback"> SAP ID is required </small>
            <!-- <input name="firstName"  [(ngModel)]="firstName" id="amtamount" ngModel minlength="2" maxlength="5" #amtamount> -->
            <!-- <input placeholder="₹" [(ngModel)]="firstName" id="amtamount" name="firstName" #amtamount> -->

            <button type="submit" id="amtamount" name="amtamount" class="btn btn-danger"
                *ngFor="let mydata of data" (click)="validateDetails(amtamount.value)" [disabled]="firstName ==''">Get
                Details</button>
            </div>
        </div>
        <div class="range">
            <label for="" class="mt-3 ms-3 lastText">Range: ₹{{mydata.min_amount}} to ₹{{mydata.max_amount}}</label>
        </div>
       
    </div>
    <div class="alret" *ngIf="isrange">
        <!-- <label for="" class="mt-3 ms-3 lastText">Range invalid</label> -->
    <ngb-alert   for="" class="rangerror mt-1" #selfClosingErrorAlert  >Please Enter transaction amount in given range</ngb-alert>
    
    </div>
</div>



<div *ngIf="isShowDivIf" >
    <div class="container" *ngFor="let mydata of data">
        <div class="row">
            <div class="col-sm-2"></div>
            <div class="col-sm-8">
                <div class="row gx-1 mobile_row">
                    <div class="col box2 g-5">
                        <h5 class="mb-3">Scheme Details</h5>
                        <div>
                            <div class="row_container">
                                <div class="row_label">Description</div>
                                <div class="row_value float-end"><b> {{mydata.tenure}} X
                                        {{mydata.advance_emi}}</b></div>
                            </div>
                            <div class="row_container">
                                <div class="row_label">Number of Adv. EMI's</div>
                                <div class="row_value float-end"><b>{{mydata.advance_emi}}</b></div>
                            </div>
                            <div class="row_container">
                                <div class="row_label">Number of remaining EMI's</div>
                                <div class="row_value float-end"><b>{{formula.remaningemi}}</b></div>
                            </div>
                            <div class="row_container">
                                <div class="row_label">Range</div>
                                <div class="row_value float-end"><b>₹{{mydata.min_amount}} to ₹{{mydata.max_amount}}</b>
                                </div>
                            </div>
                            <div class="row_container">
                                <div class="row_label">Type</div>
                                <div class="row_value float-end"><b>{{mydata.oem}}</b></div>
                            </div>
                            <div class="row_container">
                                <div class="row_label">Portal Description</div>
                                <div class="row_value float-end"><b>{{mydata.portal_description}}</b></div>
                            </div>
                            <div class="row_container">
                                <div class="row_label"> Validity</div>
                                <div class="row_value float-end"><b>{{mydata.scheme_end_date}} </b></div>
                            </div>
                            <div class="row_container">
                                <div class="row_label"> Status</div>
                                <div class="row_value float-end"><b>{{mydata.status}} </b></div>

                            </div> <br>
                            <p style="font-weight: bold; font-size: 1.1rem;">Transaction Summary for Customer</p>
                            <div class="row_container">
                                <div class="row_label"> EMI Amount</div>
                                <div class="row_value float-end"><b>₹{{formula.EMIAmount}} </b></div>
                            </div>
                            <div class="row_container">
                                <div class="row_label">Advance EMI Amount</div>
                                <div class="row_value float-end"><b>₹{{formula.ADVANCE_EMI}} </b></div>
                            </div>
                            <div class="row_container">
                                <div class="row_label">Processing Fee</div>
                                <div class="row_value float-end"><b>₹{{mydata.processing_fee}}</b></div>
                            </div>
                            <div class="row_container">
                                <div class="row_label">Total Payment white transaction</div>
                                <div class="row_value float-end"><b>₹{{formula.Amounttobepaidby}}</b></div>
                            </div>
                        </div>
                    </div>
                    <div class="col box2 g-5">
                        <h5 class="mb-3">Cost to Customer</h5>
                        <div>
                            <div class="row_container">
                                <div class="row_label">Total Interest during loan tenure</div>
                                <div class="row_value float-end"><b>₹{{formula.TotalIntrestduringloantenure}}</b></div>

                            </div>
                            <div class="row_container">
                                <div class="row_label">Total of Interest & processing fees</div>
                                <div class="row_value float-end"><b>₹{{formula.Totalofintrest}}</b></div>
                            </div>
                            <div class="row_container">
                                <div class="row_label">Cashback expected</div>
                                <div *ngIf="mydata?.oem?.toLowerCase() != 'mmfsl'" class="row_value float-end"><b>₹{{formula.TotalIntrestduringloantenure}}</b></div>
                                <div *ngIf="mydata?.oem?.toLowerCase() == 'mmfsl'" class="row_value float-end"><b>₹0.00</b></div>
                            </div>
                            <div class="row_container">
                                <div class="row_label">Additional Cashback expected</div>
                                <div class="row_value float-end"><b>₹ 0.00</b></div>
                            </div>
                            <div class="row_container">
                                <div class="row_label">Net Cost to Customer</div>
                                <div class="row_value float-end"><b>₹{{formula.net_Cost_Custmer}}</b></div>
                            </div> <br>
                            <p style="font-weight: bold; font-size: 1.3rem;">Transaction Summary to Dealer</p>
                            <div class="row_container">
                                <div class="row_label">Processing fee</div>
                                <div class="row_value float-end"><b>₹{{mydata.processing_fee}}</b></div>
                            </div>
                            <div class="row_container">
                                <div class="row_label">Advance EMI</div>
                                <div class="row_value float-end"><b>₹{{formula.ADVANCE_EMI}}</b></div>
                            </div>
                            <div class="row_container">
                                <div class="row_label">Amount to be collected from customer </div>
                                <div class="row_value float-end"><b>₹{{formula.Amounttobepaidby}}</b></div>
                            </div>
                            <div class="row_container">
                                <div class="row_label">DBD Amount to be paid by dealer to MMFSL</div>
                                <div class="row_value float-end"><b>₹{{formula.dbd}}</b></div>

                            </div>
                            <div class="row_container">
                                <div class="row_label">Disbursement to dealer by MMFSL</div>
                                <div class="row_value float-end"><b> ₹{{formula.distributed_delerto_mmfsl}}</b></div>
                            </div>
                        </div>
                    </div>
                </div><br>
            </div>
            <div class="col-sm-2"></div>
        </div>
    </div> <!-- Second -->

</div>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">